\usetheme{Rochester}

\RequirePackage{pgf}

\pgfdeclareimage[width=0.2\paperwidth]{images/uniheader}{images/uniheader}

\setbeamertemplate{blocks}[rounded][shadow=false]
\setbeamercovered{transparent}

\beamer@headheight=0.35\paperwidth

\definecolor{cornellRed}{HTML}{AF1E2D}
\definecolor{cornellWarmGray}{HTML}{d3cec4}
\definecolor{cornellLightGreen}{HTML}{9ca696}


\setbeamercolor*{Title bar}{bg=cornellRed, fg=white}
\setbeamercolor*{Location bar}{fg=cornellRed,bg=cornellWarmGray}
\setbeamercolor*{frametitle}{parent=Title bar}
\setbeamercolor*{block title}{bg=cornellRed,fg=white}
\setbeamercolor*{block body}{bg=cornellWarmGray,fg=black}
\setbeamercolor*{block title alerted}{bg=cornellRed,fg=white}
\setbeamercolor*{block body alerted}{bg=cornellRed,fg=black}
\setbeamercolor*{block title example}{bg=cornellWarmGray,fg=black}
\setbeamercolor*{block body example}{bg=cornellRed,fg=black}
\setbeamercolor*{normal text}{bg=white,fg=black}
\setbeamercolor*{alerted text}{fg=cornellRed}
\setbeamercolor*{section in head/foot}{bg=cornellRed,fg=white}
\setbeamercolor*{item}{fg=cornellRed, bg=cornellWarmGray}

\usecolortheme[named=cornellLightGreen]{structure}

\setbeamerfont{section in head/foot}{size=\tiny,series=\normalfont}
\setbeamerfont{frametitle}{size=\Large}

%\setbeamertemplate{headline}
\setbeamertemplate{frametitle}
{
  \vskip-0.23\beamer@headheight
  \vskip-\baselineskip
  \vskip-0.03cm
  \hskip-0.5cm\usebeamerfont*{frametitle}\insertframetitle
  \vskip-0.20em
  \hskip-0.35cm\usebeamerfont*{framesubtitle}\insertframesubtitle
}

\setbeamertemplate{headline}
{%
  \begin{beamercolorbox}[wd=\paperwidth,ht=0.25\beamer@headheight,dp=2ex]{Title bar}%
    \usebeamerfont{section in head/foot}%
    \insertsectionnavigationhorizontal{0.8\paperwidth}{\hskip 0.5cm}{\hskip0pt plus 1filll}%
    
    \hskip 10cm%
    \pgfuseimage{images/uniheader}%
  \end{beamercolorbox}%
  \noindent\makebox[\paperwidth]{\rule{\paperwidth}{\fboxrule}}%
  \vskip 0.6cm%
}

\setbeamertemplate{footline}
{%
  \noindent\makebox[\paperwidth]{\rule{\paperwidth}{\fboxrule}}

  \begin{beamercolorbox}[leftskip=.3cm,wd=\paperwidth,ht=0.08\beamer@headheight,sep=0.1cm]{Location bar}%
    \usebeamerfont{section in head/foot}%
    \insertshortauthor~|~\insertshorttitle%
    \hfill%
    \insertframenumber/\inserttotalframenumber%
  \end{beamercolorbox}%
}

